{% import "widget.html" as widget %}
{% if icd_codes %}
    {% for icd_code in icd_codes %}
        <tr role="row" class="odd page-number-{{page_number}}">
            <td class="v-align-middle sorting_0">
              <span data-id="{{ icd_code.id }}">
              {% if query in icd_code.code %}
                {{ icd_code.code.replace(query, '<span style="background: #ff0; color: #000;">%s</span>' % query)|safe }}
              {% else %}
                {{ icd_code.code }}
              {% endif %}
              </span>
            </td>
            <td class="v-align-middle">
              <span>
              {% if query in icd_code.common_term %}
                {{ icd_code.common_term.replace(query, '<span style="background: #ff0; color: #000;">%s</span>' % query)|safe }}
              {% else %}
                {{ icd_code.common_term }}
              {% endif %}
              </span>
            </td>
            <td class="v-align-middle">
              <span>
              {% if query in icd_code.description %}
                {{ icd_code.description.replace(query, '<span style="background: #ff0; color: #000;">%s</span>' % query)|safe }}
              {% else %}
                {{ icd_code.description }}
              {% endif %}
              </span>
            </td>
        </tr>
    {% endfor %}
    <tr role="row" class="odd" id="icd-code-pagination">
      <td class="v-align-middle sorting_1" colspan="3">
        <p style="text-align: center;">
          {{ widget.page_number(pagination, query=query, url='main.icd_code_search') }}
        </p>
      </td>
    </tr>
{% else %}
    <tr role="row" class="odd">
        <td class="v-align-middle sorting_1" colspan="3">
          <p style="text-align: center;">
            No ICD Data Found.
          </p>
        </td>
    </tr>
{% endif %}


